<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAIA CANSAT - Analizador de Datos</title>
    
    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Librerías -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    <!-- Estilos -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header con logo de la misión -->
    <header class="header">
        <div class="container">
            <div class="mission-header">
                <div class="mission-logo-container">
                    <img src="GAIAROCKETS.JPG" alt="GAIA Rockets Logo" class="mission-logo">
                </div>
                <div class="mission-info">
                    <h1 class="mission-title">GAIA ROCKETS</h1>
                    <p class="mission-lema">"TERRA MATER, STELLAE FUTURAE"</p>
                    <p class="mission-subtitle">Analizador de Datos de Vuelo CANSAT</p>
                </div>
                <div class="team-members">
                    <div class="members-grid">
                        <div class="member">
                            <span class="member-name">ALVAREZ</span>
                        </div>
                        <div class="member">
                            <span class="member-name">CASTAÑEDA</span>
                        </div>
                        <div class="member">
                            <span class="member-name">LONDOÑO</span>
                        </div>
                        <div class="member">
                            <span class="member-name">GIRALDO</span>
                        </div>
                        <div class="member">
                            <span class="member-name">TILANO</span>
                        </div>
                        <div class="member">
                            <span class="member-name">DUQUE</span>
                        </div>
                        <div class="member">
                            <span class="member-name">DUQUE</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="main-content">
        <div class="container">
            <!-- Panel de carga de archivos -->
            <section class="upload-section">
                <div class="panel">
                    <h2 class="panel-title">Carga de Datos</h2>
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-content">
                            <div class="upload-icon">📊</div>
                            <p class="upload-text">Arrastra tu archivo CSV aquí o haz clic para seleccionar</p>
                            <input type="file" id="csvFile" accept=".csv" class="file-input">
                            <button class="upload-btn" id="uploadBtn">Seleccionar Archivo</button>
                        </div>
                    </div>
                    <div class="file-info" id="fileInfo" style="display: none;">
                        <p class="file-name" id="fileName"></p>
                        <p class="file-stats" id="fileStats"></p>
                    </div>
                </div>
            </section>

            <!-- Panel de preview del CSV -->
            <section class="csv-preview-section" id="csvPreviewSection" style="display: none;">
                <div class="panel">
                    <div class="preview-header">
                        <h2 class="panel-title">Vista Previa del Archivo CSV</h2>
                        <p class="preview-description">Revisa los datos cargados antes de continuar</p>
                    </div>
                    <div class="preview-content">
                        <div class="preview-info" id="previewInfo">
                            <!-- Información del archivo -->
                        </div>
                        <div class="preview-table-container">
                            <div class="preview-table" id="previewTable">
                                <!-- Tabla de preview -->
                            </div>
                        </div>
                        <div class="preview-actions">
                            <button class="proceed-preview-btn" id="proceedPreviewBtn">Continuar con estos Datos</button>
                            <button class="change-file-btn" id="changeFileBtn">Cambiar Archivo</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Panel de configuración de altura base -->
            <section class="altitude-config-section" id="altitudeConfigSection" style="display: none;">
                <div class="panel">
                    <div class="altitude-config-header">
                        <h2 class="panel-title">Configuración de Altura Base</h2>
                        <p class="altitude-description">Configure la altura de referencia antes de procesar los datos</p>
                    </div>
                    <div class="altitude-config-content">
                        <div class="altitude-controls">
                            <div class="control-group">
                                <label for="baseAltitude" class="control-label">Altura Base (m):</label>
                                <input type="number" id="baseAltitude" class="control-input" value="571" min="0" max="10000" step="1">
                                <p class="control-description">Altura de referencia para ajustar la altitud registrada (ej: altura del lugar de lanzamiento)</p>
                            </div>
                            <div class="altitude-info">
                                <div class="info-card">
                                    <h3>¿Qué es la altura base?</h3>
                                    <p>Es la altura del lugar de lanzamiento sobre el nivel del mar. Se resta de todas las altitudes registradas para obtener la altura relativa del CANSAT.</p>
                                </div>
                                <div class="info-card">
                                    <h3>Ejemplos comunes:</h3>
                                    <ul>
                                        <li>Santa Fe de Antioquia: ~571m</li>
                                        <li>Bogotá: ~2640m</li>
                                        <li>Medellín: ~1500m</li>
                                        <li>Nivel del mar: 0m</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="altitude-actions">
                            <button class="proceed-altitude-btn" id="proceedAltitudeBtn">Continuar con esta Altura</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Panel de limpieza de datos -->
            <section class="data-cleaning-section" id="dataCleaningSection" style="display: none;">
                <div class="panel">
                    <div class="cleaning-header">
                        <h2 class="panel-title">Limpieza de Datos</h2>
                        <button class="clean-data-btn" id="cleanDataBtn">Limpiar Datos</button>
                    </div>
                    <div class="cleaning-content" id="cleaningContent" style="display: none;">
                        <div class="cleaning-controls">
                            <div class="cleaning-summary" id="cleaningSummary">
                                <!-- Resumen de limpieza -->
                            </div>
                        </div>
                        <div class="cleaning-details" id="cleaningDetails">
                            <!-- Detalles de datos eliminados -->
                        </div>
                        <div class="cleaning-actions">
                            <button class="proceed-btn" id="proceedBtn">Proceder con Datos Limpios</button>
                            <button class="reset-btn" id="resetBtn">Usar Datos Originales</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Panel de configuración de gráfica -->
            <section class="chart-section" id="chartSection" style="display: none;">
                <div class="panel">
                    <h2 class="panel-title">Configuración de Gráfica</h2>
                    <div class="chart-controls">
                        <div class="control-group">
                            <label for="xAxis" class="control-label">Eje X:</label>
                            <select id="xAxis" class="control-select">
                                <option value="">Selecciona una variable...</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="yAxis" class="control-label">Eje Y:</label>
                            <select id="yAxis" class="control-select">
                                <option value="">Selecciona una variable...</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="chartType" class="control-label">Tipo de Gráfica:</label>
                            <select id="chartType" class="control-select">
                                <option value="line">Línea</option>
                                <option value="scatter">Dispersión</option>
                                <option value="bar">Barras</option>
                            </select>
                        </div>
                        <button class="generate-btn" id="generateBtn">Generar Gráfica</button>
                    </div>
                </div>
            </section>

            <!-- Panel de visualización -->
            <section class="visualization-section" id="visualizationSection" style="display: none;">
                <div class="panel">
                    <h2 class="panel-title">Visualización de Datos</h2>
                    <div class="chart-container">
                        <div id="chart" class="chart"></div>
                    </div>
                    <div class="chart-info" id="chartInfo">
                        <p class="chart-description" id="chartDescription"></p>
                    </div>
                </div>
            </section>

            <!-- Panel de análisis de calidad del aire -->
            <section class="air-quality-section" id="airQualitySection" style="display: none;">
                <div class="panel">
                    <div class="air-quality-header">
                        <h2 class="panel-title">Análisis de Calidad del Aire</h2>
                        <button class="air-quality-btn" id="airQualityBtn">Analizar Calidad del Aire</button>
                    </div>
                    <div class="air-quality-content" id="airQualityContent" style="display: none;">
                        <div class="quality-controls">
                            <div class="control-group">
                                <label for="altitudeInterval" class="control-label">Intervalo de Altitud:</label>
                                <select id="altitudeInterval" class="control-select">
                                    <option value="all">Todas las lecturas</option>
                                    <option value="5">Promedio cada 5m</option>
                                    <option value="10">Promedio cada 10m</option>
                                    <option value="20">Promedio cada 20m</option>
                                    <option value="30">Promedio cada 30m</option>
                                </select>
                            </div>
                            <button class="update-quality-btn" id="updateQualityBtn">Actualizar Análisis</button>
                        </div>
                        <div class="quality-overview" id="qualityOverview">
                            <!-- Resumen de calidad del aire -->
                        </div>
                        <div class="quality-chart-container">
                            <div id="qualityChart" class="quality-chart"></div>
                        </div>
                        <div class="quality-metrics" id="qualityMetrics">
                            <!-- Métricas detalladas -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Panel de análisis de apogeo -->
            <section class="apogee-section" id="apogeeSection" style="display: none;">
                <div class="panel">
                    <div class="apogee-header">
                        <h2 class="panel-title">Análisis de Apogeo</h2>
                        <button class="apogee-btn" id="apogeeBtn">Analizar Apogeo</button>
                    </div>
                    <div class="apogee-content" id="apogeeContent" style="display: none;">
                        <div class="apogee-overview" id="apogeeOverview">
                            <!-- Resumen del apogeo -->
                        </div>
                        <div class="apogee-details" id="apogeeDetails">
                            <!-- Detalles del análisis -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Panel de estadísticas -->
            <section class="stats-section" id="statsSection" style="display: none;">
                <div class="panel">
                    <div class="stats-header">
                        <h2 class="panel-title">Estadísticas de Datos</h2>
                        <button class="stats-btn" id="statsBtn">Mostrar Estadísticas</button>
                    </div>
                    <div class="stats-content" id="statsContent" style="display: none;">
                        <div class="stats-grid" id="statsGrid">
                            <!-- Las estadísticas se generarán dinámicamente -->
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p class="footer-text">GAIA Rockets - Misión CANSAT 2024</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>
